<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Noticias - v14</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="main-layout">
        <div class="form-column">
            <div class="container">
                <div class="header-row">
                    <h1>ðŸ“° Generador de Contenido Web</h1>
                    <button id="theme-toggle-btn" class="theme-btn" title="Alternar Modo Oscuro/Claro">ðŸŒ™</button>
                </div>
                <p>Gestiona y genera el cÃ³digo para tus noticias.</p>
                <hr>

                <div class="editor-wrapper">
                    <div id="tabs-container" class="tabs-container">
                        <div id="tab-buttons" class="tab-buttons"></div>
                        
                        <button id="add-tab-btn" class="add-tab-btn" title="Nueva Noticia">+</button>
                        
                        <div class="global-actions">
                            <hr style="border-color: var(--border-color); margin: 10px 0; opacity: 0.5;">
                            <small style="display:block; margin-bottom:5px; color:var(--text-secondary); font-size:0.8em; text-align: center;">Copiar Masivo (Index):</small>
                            <button id="copy-all-transporte" class="global-btn btn-transporte" title="Copiar todos los Index de Transporte">Transporte</button>
                            <button id="copy-all-energia" class="global-btn btn-energia" title="Copiar todos los Index de EnergÃ­a">EnergÃ­a</button>
                        </div>
                    </div>

                    <div id="tab-content-container" class="tab-content-container"></div>
                </div>

            </div>
        </div>

        <div class="preview-column minimized" id="preview-column">
            <div class="preview-header-row">
                <h2>Vista Previa</h2>
                <button id="toggle-preview-btn" class="toggle-preview-btn" title="Expandir/Contraer">âž¤</button>
            </div>
            
            <div class="preview-tabs">
                <button class="preview-tab-btn active" data-target="viewport-preview-individual">PÃ¡gina Individual</button>
                <button class="preview-tab-btn" data-target="viewport-preview-index">Miniatura Index</button>
            </div>
            <div class="preview-content-container">
                <iframe id="viewport-preview-individual" class="viewport-preview active" title="Vista previa de la noticia individual"></iframe>
                <iframe id="viewport-preview-index" class="viewport-preview" title="Vista previa de la miniatura del index"></iframe>
            </div>
        </div>
    </div>

    <template id="news-form-template">
        <form class="news-form">
            <div class="form-group checkbox-group">
                <input type="checkbox" id="modo_antonio_rossi" name="modo_antonio_rossi">
                <label for="modo_antonio_rossi">Activar Modo Antonio Rossi</label>
            </div>
            
            <div class="form-group">
                <label for="titulo">TÃ­tulo: <span class="required-asterisk">*</span></label>
                <input type="text" id="titulo" name="titulo" placeholder="El tÃ­tulo principal de la noticia" required>
            </div>
            
            <div class="form-group">
                <label for="bajada">Bajada (Opcional):</label>
                <textarea id="bajada" name="bajada" placeholder="El subtÃ­tulo o resumen corto"></textarea>
            </div>

            <div class="form-group image-group">
                <label for="imagen_principal">URL Imagen Principal (Opcional):</label>
                <div class="image-input-controls">
                    <div class="type-buttons-group">
                        <input type="hidden" class="image-type-selector" name="imagen_principal_type" value="Transporte">
                        <button type="button" class="type-btn active" data-value="Transporte">Transporte</button>
                        <button type="button" class="type-btn" data-value="Energia">EnergÃ­a</button>
                        <button type="button" class="type-btn" data-value="AR">Rossi</button>
                    </div>
                    
                    <input type="url" id="imagen_principal" name="imagen_principal" class="image-url" placeholder="https://...">
                </div>
                
                <div class="image-input-feedback">
                    <div class="image-preview-container">
                        <img id="image-preview" src="#" alt="Vista previa" class="image-preview hidden" />
                        <span class="preview-placeholder">Vista Previa</span>
                    </div>
                    <div class="filename-display-group">
                        <label>Nombre Sugerido:</label>
                        <div class="filename-controls">
                            <input type="text" class="filename-display" readonly>
                            <button type="button" class="increment-btn" data-direction="-1">-</button>
                            <button type="button" class="increment-btn" data-direction="1">+</button>
                        </div>
                        <div class="filename-buttons-group">
                            <button type="button" class="copy-btn copy-filename-btn">Copiar Nombre</button>
                            <button type="button" class="copy-btn copy-image-btn">Copiar Imagen</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="additional-images-container"></div>
            <button type="button" class="add-btn">+ Agregar otra Imagen</button>

            <div class="form-group">
                <label for="epigrafe">EpÃ­grafe Imagen Principal (Opcional):</label>
                <textarea id="epigrafe" name="epigrafe" placeholder="DescripciÃ³n de la foto principal y/o fuente"></textarea>
            </div>
            
            <div class="form-group">
                <label for="body">Cuerpo de la Noticia: <span class="required-asterisk">*</span></label>
                <div class="format-buttons">
                    <button type="button" class="format-btn btn-bold" title="Negrita"><b>B</b></button>
                    <button type="button" class="format-btn btn-list" title="Lista">Lista</button>
                </div>
                <textarea id="body" name="body" class="body-textarea" placeholder="PegÃ¡ aquÃ­ los pÃ¡rrafos principales del artÃ­culo..." required></textarea>
                <small>Usa **negrita** y `- ` o `* ` para listas. O usa los botones de formato.</small>
            </div>
            
            <div class="form-group source-group">
                <label for="fuente">Fuente (Opcional):</label>
                
                <div class="type-buttons-group source-type-controls hidden" style="margin-bottom: 8px;">
                    <input type="hidden" name="source_type" class="source-type-input" value="Fuente">
                    <button type="button" class="type-btn active" data-value="Fuente">Fuente</button>
                    <button type="button" class="type-btn" data-value="Nota editada en">Nota editada en</button>
                </div>

                <input type="text" id="fuente" name="fuente" placeholder="Ej: Diario La NaciÃ³n, Reuters, etc.">
            </div>
            
            <button type="button" class="main-btn">Generar CÃ³digo HTML</button>

            <div class="output-area">
                <h2>Resultados HTML Generados:</h2>
                
                <div class="form-group output-group filename-output">
                    <label for="output_filename">Nombre Archivo HTML:</label>
                    <input type="text" id="output_filename" readonly>
                    <button type="button" class="copy-btn" data-target="output_filename">Copiar</button>
                </div>

                <div class="form-group output-group">
                    <label for="output_individual">CÃ³digo PÃ¡gina Completa (.html):</label>
                    <textarea id="output_individual" readonly style="height: 300px;"></textarea>
                    <button type="button" class="copy-btn" data-target="output_individual">Copiar</button>
                </div>

                <textarea id="output_metatags" class="hidden"></textarea>

                <div class="form-group output-group">
                    <label for="output_titulos">CÃ³digo Lista de TÃ­tulos:</label>
                    <textarea id="output_titulos" readonly></textarea>
                    <button type="button" class="copy-btn" data-target="output_titulos">Copiar</button>
                </div>
                
                <div class="form-group output-group">
                    <label for="output_index">CÃ³digo Miniatura (Index):</label>
                    <textarea id="output_index" readonly></textarea>
                    <button type="button" class="copy-btn" data-target="output_index">Copiar</button>
                </div>
                
                <div class="form-group output-group output-additional-images-group hidden" id="output-additional-images-group">
                    <label for="output_additional_images">CÃ³digo ImÃ¡genes Adicionales:</label>
                    <textarea id="output_additional_images" readonly></textarea>
                    <button type="button" class="copy-btn" data-target="output_additional_images">Copiar</button>
                </div>
            </div>
        </form>
    </template>

    <script type="module" src="script.js"></script>
</body>
</html>